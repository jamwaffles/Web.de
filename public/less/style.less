@import 'bootstrap/bootstrap';
@import 'gridster';
@import 'fam';

@deviceCol: @orange;
@localCol: @purple;
@networkCol: @green;

@deviceColLight: lighten(@deviceCol,10%);
@localColLight: lighten(@localCol,10%);
@networkColLight: lighten(@networkCol,10%);

.animation(@animation) {
  -webkit-animation: @animation;
	 -moz-animation: @animation;
	   -o-animation: @animation;
		  animation: @animation;
}
.transform-origin(@origin) {
  -webkit-transform-origin: @origin;
	 -moz-transform-origin: @origin;
	  -ms-transform-origin: @origin;
	   -o-transform-origin: @origin;
		  transform-origin: @origin;
}
.text-shadow(@shadow) {
  -webkit-text-shadow: @shadow;
	 -moz-text-shadow: @shadow;
	  -ms-text-shadow: @shadow;
	   -o-text-shadow: @shadow;
		  text-shadow: @shadow;
}

.user-select(@select) {
  -webkit-user-select: @select;
	 -moz-user-select: @select;
	  -ms-user-select: @select;
	   -o-user-select: @select;
		  user-select: @select;
}

.pointer-events(@events) {
  -webkit-pointer-events: @events;
	 -moz-pointer-events: @events;
	  -ms-pointer-events: @events;
	   -o-pointer-events: @events;
		  pointer-events: @events;
}

.progress-inverse .bar {
	#gradient > .vertical(@btnInverseBackground, @btnInverseBackgroundHighlight);
}

html {
	cursor: default;
	overflow: hidden;

	&.statusbar-hidden {
		#main {
			top: 0;
		}
	}
	&.footerbar-hidden {
		#main {
			bottom: 0;
		}
	}
}

.hide-left {
	left: -98% !important;
	right: 98% !important;

	.border-radius(@baseBorderRadius);
}
.hide-right {
	left: 98% !important;
	right: -98% !important;

	.border-radius(@baseBorderRadius);
}
.bar-toggle {
	line-height: 40px;
	padding: 0 10px;

	&.left {
		float: left;
	}
	&.right {
		float: right;
	}
}

.nav-pills {
	li > span {
		.border-radius(5px);
		margin-top: 2px;
		margin-bottom: 3px;
		padding: 8px 12px;
		margin-right: 0;
		display: block;
		line-height: 14px;

		&:hover {
			background: #eee;
		}
	}
}

.align-right {
	text-align: right;
}

.icon-large {
	background: center center no-repeat;
	width: 40px;
	height: 40px;
	margin: 0;
	padding: 0;

	&.icon-users { background-image: url('../img/icons/users.png'); }
	&.icon-tools { background-image: url('../img/icons/tools.png'); }
	&.icon-clock { background-image: url('../img/icons/clock.png'); }
	&.icon-dial { background-image: url('../img/icons/dial.png'); }
	&.icon-qrcode { background-image: url('../img/icons/qrcode.png'); }
	&.icon-info { background-image: url('../img/icons/info.png'); }
	&.icon-play { background-image: url('../img/icons/play.png'); }
	&.icon-play-button { background-image: url('../img/icons/play-button.png'); }
	&.icon-schedule { background-image: url('../img/icons/schedule.png'); }
	&.icon-gears { background-image: url('../img/icons/gears.png'); }
	&.icon-settings { background-image: url('../img/icons/wrench.png'); }
	&.icon-moon { background-image: url('../img/icons/moon.png'); }
	&.icon-disk { background-image: url('../img/icons/disk.png'); }
	&.icon-roundabout { background-image: url('../img/icons/roundabout.png'); }
	&.icon-software { background-image: url('../img/icons/software.png'); }
	&.icon-questionmark { background-image: url('../img/icons/question-mark.png'); }
	&.icon-usb { background-image: url('../img/icons/usb.png'); }
	&.icon-globe { background-image: url('../img/icons/globe.png'); }

	&.icon-xinix { background-image: url('../img/icons/pear.png'); }
	&.icon-linux { background-image: url('../img/icons/tux.png'); }
	&.icon-apple { background-image: url('../img/icons/apple.png'); }
	&.icon-windows { background-image: url('../img/icons/windows.png'); }
}

.mouse-scroll-container > *:after {
	clear: both;
	content: "";
	display: block;
	height: 0;
	visibility: hidden;
}

.form-2col {
	width: 450px;
	margin-bottom: 0;

	> .span6 {
		margin-left: 10px;
		max-width: 220px;
	}
}
.form-3col {
	width: 670px;
	margin-bottom: 0;

	> .span6 {
		margin-left: 10px;
		max-width: 220px;
	}
}
.form-block {
	display: block;
	margin: 0;

	input[type="text"], input[type="password"] {
		width: 100%;
		height: 30px;

		.box-sizing(border-box);
	}
	select {
		width: 100%;
	}
}
input[type="file"] {
	margin-bottom: 10px;
}
input {
	&.minimal {
		border: 1px solid #ddd;
		border-style: none none solid none;
		background: #fff;
		padding: 1px;
		margin: 0;

		.text-shadow(none);
		.box-shadow(none);
		.border-radius(0);

		&:active, &:focus {
			.text-shadow(none);
			.box-shadow(none);
			.border-radius(0);
		}

		&[class*="minimal-"] {
			display: inline-block;
		}

		&.minimal-50 { width: 50px; } 
		&.minimal-100 { width: 100px; } 
		&.minimal-120 { width: 120px; } 
		&.minimal-150 { width: 150px; } 

		&.inline {
			display: inline-block;
		}
	}
}
fieldset[disabled] {
	button, .btn {
		background: @blue;
		border-color: @blue;

		.text-shadow(none);
		.box-shadow(none);

		&:hover, &:active, &:focus {
			background: @blue;
			border-color: @blue;
			cursor: default;

			.text-shadow(none);
			.box-shadow(none);
		}
	}
}
.uneditable-input {
	cursor: default;
}
.spacer {
	line-height: 30px;
	min-height: 30px;
	margin-bottom: 10px;

	> input[type="checkbox"] {
		margin-left: 5px;
		margin-top: 0;
	}
}
label {
	&.inline {
		display: inline-block;
		margin-right: 10px;
		margin-left: 5px;

		
		input[type="checkbox"] {
			vertical-align: middle;
			// margin: 0 3px 0 0;
			margin: 0;
		}
	}
}
.form-buttons {
	text-align: right;
	margin-top: 10px;
}

table {
	&.block {
		width: 100%;
		margin-bottom: 0;
	}

	&.accordion {
		table-layout: auto;

		th, td {
			&.toggle-icon {
				width: 16px;
				text-align: center;
			}
		}

		tr.accordion-header {
			&:hover {
				td {
					background: #eee;
				}
			}
			~ tr:not(.accordion-header), ~ tr.accordion-header.sub {
				display: none;
			}

			td {
				cursor: pointer;
			}
		}
	}

	&.tree {
		.table;
		.table-hover;

		th, td {
			&.toggle-column {
				width: 16px;
				padding-right: 0;
			}
		}

		tr {
			&.collapse-header, &.sub-collapse-header {
				cursor: pointer;
				font-weight: bold;
			}
		}
	}

	&.scheduled-tasks {
		.table;
		.table-striped;
	}

	th.align-right {
		text-align: right !important;
	}

	td, th {
		&.col-50 {
			width: 50px;
		}
		&.col-100 {
			width: 100px;
		}
		&.col-200 {
			width: 200px;
		}
		&.col-400 {
			width: 400px;
		}

		&.align-right {
			text-align: right !important;
		}

		> input, > select, > button, > textarea {
			margin-bottom: 0 !important;
		}
	}
}
.fluid-table {		// Mimic table made from fluid classes
	margin: 0 !important;
	padding: 0 !important;

	&.striped {
		.row-fluid:nth-child(odd) {
			background-color: #f9f9f9;
		}
	}
	&.hover {
		.row-fluid:hover {
			background-color: #f5f5f5;
		}
	}

	.row-fluid {
		padding: 8px;
		line-height: 20px;
		border-bottom: 1px solid #ddd;

		.box-sizing(border-box);

		&:last-child {
			border-bottom: none;
		}

		[class*="span"] {
			min-height: 20px;

			form, input, select, button {
				margin-bottom: 0;
			}
			label {
				display: inline-block;
				padding: 5px 5px 5px 0;
				margin: 0 5px 0 0;
			}
		}
	}

	.thead {
		[class*="span"] {
			font-weight: bold;
		}
	}

	/* Table trees */
	.collapse-header, .sub-collapse-header {
		font-weight: bold;

		i {
			width: 16px;
			
			.transition(background-position 0.4s);

			+ i {
				margin-right: 10px;
			}
		}
	}

	.sub-collapse-row {
		margin-left: 25px;
	}

	.sub-collapse-header {
		margin-left: 25px;
	}

	.toggle-column {
		display: inline-block;
		width: 16px;
		height: 16px;
		margin-right: 10px;

		i {
			border: 1px solid #000;
			width: 15px;
			height: 15px;
			cursor: pointer;

			&:hover {
				border-color: @linkColor;
				background-color: #fff;

				.box-shadow(0 0 3px @linkColor);
			}

			&.icon-plus {
				background-position: -407px -96px;
			}
			&.icon-minus {
				background-position: -432px -96px;
			}
		}
	}

	// Progress meters
	.progress-container {
		display: inline-block;
	}
	.progress-wrapper {
		&.progress-inline {
			display: inline-block;

			// Progress bar
			.progress {
				width: 190px;
				margin-bottom: 0;
				vertical-align: middle;
				display: inline-block;
			}
		}

		a {
			display: inline-block;
			margin-left: 10px;
		}
	}
}

dd {
	> table {
		&:last-child {
			margin-bottom: 0;
		}
	}
}

ul {
	li {
		&.divider {
			border-top: 1px solid #ddd;
			margin: 15px 10px 12px 10px !important;
			padding: 0 !important;
			line-height: 0 !important;
		}

		> span.pull-right {
			padding-bottom: 8px;

			div + div {
				margin-top: 14px;
			}
		}
	}
}

dl.accordion {
	&.accordion-small {
		dt {
			margin-top: 3px;
		}

		span.actions {
			// margin: 0;
			float: right;

			a {
				opacity: 0.3;

				&:hover {
					opacity: 1;
				}
			}
		}
	}

	> dt, > dd {
		padding: 0;
		margin: 0;
		font-weight: normal;
		padding: 5px;
	}

	> dt {
		cursor: pointer;
		margin-top: 10px;

		.border-radius(@baseBorderRadius);

		&:first-child {
			margin-top: 0;
		}
		&:hover {
			background-color: #eee;
		}

		&.open {
			background-color: #eee;

			.border-bottom-radius(0);

			+ dd {
				border: 1px solid #ddd;
				border-top: none;

				.border-top-radius(0);
				.border-bottom-radius(@baseBorderRadius);
			}
		}
		&.href {
			a {
				display: block;
				text-decoration: none;
			}
		}
	}
	> dd {
		display: none;

		> ul.unstyled {
			li {
				padding: 8px 12px;
				margin-top: 3px;
				line-height: 14px;
				clear: both;

				&:first-child {
					margin-top: 0;
				}
				> .pull-right {
					text-align: right;
				}
			}
		}

		> ul.nav-stacked {
			margin-bottom: 0;
		}
	}
}

.well {
	label {
		&:last-child {
			margin-bottom: 0;
		}
	}
}

.supercal-affix {
	position: relative;
	display: inline-block;
	vertical-align: top;

	.supercal-popup-wrapper {		
		&.supercal-open {
			position: absolute;
			z-index: 1;

			input {
				min-width: 206px;
			}

			&:before {
				content: "";
				z-index: 0;
				position: absolute;
				top: -6px;
				right: -6px;
				left: -6px;
				bottom: -6px;
				background: #fff;
				padding: 5px;

				.border-radius(@baseBorderRadius);
				.box-shadow(0 0 30px rgba(0, 0, 0, 0.6));
			}
			
			.supercal-popup-trigger {
				position: relative;
				z-index: 1;
			}

			.supercal-header {
				margin-top: 10px;
			}

			.supercal-popup {
				min-width: 220px;
			}
		}
	}
}

.supercal {
	.supercal-header {
		text-align: center;
		position: relative;
		z-index: 1;

		button.prev-month {
			float: left;
		}

		button.next-month {
			float: right;
		}

		div {
			line-height: 30px;
		}
	}

	.supercal-month {
		position: relative;
		z-index: 0;
		overflow: hidden;

		table {
			border: 1px solid #ddd;
			margin-top: 10px;
			margin-bottom: 0;
			width: 100%;
			table-layout: fixed;
			background: #fff;

			.border-radius(@baseBorderRadius);

			th {
				font-weight: bold;
				padding: 2px 4px;
				text-align: center;
				font-size: 13px;
			}

			td {
				cursor: pointer;
				padding: 2px 4px;
				text-align: center;
				vertical-align: middle;

				&:hover {
					background: #eee;
				}

				&.month-prev, &.month-next {
					background: #f5f5f5;
					color: #666;

					&:hover {
						background: #eee;
					}
				}
				&.today {
					color: @blue;
				}
				&.selected {
					color: #fff;
					background: @blue;
				}
			}
		}
	}
}

.slideout {
	@width: 280px;

	position: absolute;
	top: 0;
	bottom: 0;
	left: -@width;
	width: @width;
	padding: 10px;
	background: #fff;
	border-left: 1px solid #fff;
	z-index: 1031;
	overflow: hidden;
	opacity: 0.5;

	.transition(e('all 0.5s cubic-bezier(0.230, 1.000, 0.320, 1.000)'));

	&:before {
		background: url('../img/cs-logo.svg') no-repeat top left;
		height: 50%;
		top: 0;
		left: 0;
		position: absolute;
		z-index: -1;
		opacity: 0.3;
		content: "";
		width: 110%;
		background-size: cover;
	}

	&.slideout-right {
		right: -(@width + 20px);
		left: auto;

		.slideout-close {
			text-align: left;

			a {
				padding-left: 0;
			}
		}
	}

	&.open {
		left: 0;
		opacity: 1;

		.box-shadow(0px 0px 25px rgba(0, 0, 0, 0.4));

		&.slideout-right {
			left: auto;
			right: 0;
		}
	}

	.slideout-close {
		margin-bottom: 10px;
		float: none;
		text-align: right;
		border-bottom: 1px solid #ddd;
		padding-bottom: 5px;

		a {
			text-decoration: none;
			display: inline;
			font-weight: bold;
			font-size: 20px;
			color: @grayLight;
			padding-left: 10px;
			padding-right: 10px;

			&:hover {
				color: @gray;
			}
			&:before {
				content: "\00bb";
			}

			i {
				display: none;
			}
		}

		.slideout-header {
			float: right;
			font-weight: bold;
		}
	}
}

#main {
	position: fixed;
	top: 41px;
	right: 0;
	left: 0;
	bottom: 41px;

	.transition(all 0.4s ease-in-out);
}

@import 'statusbar';
@import 'footerbar';
@import 'tree';
@import 'dln';
@import 'filetree';
@import 'console';

@import 'mrslyde';